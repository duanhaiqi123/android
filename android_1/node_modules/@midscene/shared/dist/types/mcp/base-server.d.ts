import type { ParseArgsConfig } from 'node:util';
import { McpServer } from '@modelcontextprotocol/sdk/server/mcp.js';
import type { IMidsceneTools } from './types';
export interface BaseMCPServerConfig {
    name: string;
    version: string;
    description: string;
}
export interface HttpLaunchOptions {
    port: number;
    host?: string;
}
/**
 * CLI argument configuration for MCP servers
 */
export declare const CLI_ARGS_CONFIG: ParseArgsConfig['options'];
export interface CLIArgs {
    mode?: string;
    port?: string;
    host?: string;
}
/**
 * Launch an MCP server based on CLI arguments
 * Shared helper to reduce duplication across platform CLI entry points
 */
export declare function launchMCPServer(server: BaseMCPServer, args: CLIArgs): Promise<void>;
/**
 * Base MCP Server class with programmatic launch() API
 * Each platform extends this to provide their own tools manager
 */
export declare abstract class BaseMCPServer {
    protected mcpServer: McpServer;
    protected toolsManager?: IMidsceneTools;
    protected config: BaseMCPServerConfig;
    constructor(config: BaseMCPServerConfig);
    /**
     * Platform-specific: create tools manager instance
     */
    protected abstract createToolsManager(): IMidsceneTools;
    /**
     * Initialize tools manager and attach to MCP server
     */
    private initializeToolsManager;
    /**
     * Perform cleanup on shutdown
     */
    private performCleanup;
    /**
     * Initialize and launch the MCP server with stdio transport
     */
    launch(): Promise<void>;
    /**
     * Launch MCP server with HTTP transport
     * Supports stateful sessions for web applications and service integration
     */
    launchHttp(options: HttpLaunchOptions): Promise<void>;
    /**
     * Create a new HTTP session with transport
     */
    private createHttpSession;
    /**
     * Start periodic session cleanup for inactive sessions
     */
    private startSessionCleanup;
    /**
     * Setup shutdown handlers for HTTP server
     */
    private setupHttpShutdownHandlers;
    /**
     * Get the underlying MCP server instance
     */
    getServer(): McpServer;
    /**
     * Get the tools manager instance
     */
    getToolsManager(): IMidsceneTools | undefined;
}
