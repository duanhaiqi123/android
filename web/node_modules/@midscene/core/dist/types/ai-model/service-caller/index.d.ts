import { type AIUsageInfo, type DeepThinkOption } from '../../types';
import type { StreamingCallback } from '../../types';
import { type IModelConfig, type TVlModeTypes } from '@midscene/shared/env';
import type { ChatCompletionMessageParam } from 'openai/resources/index';
import type { AIArgs } from '../../common';
export declare function callAI(messages: ChatCompletionMessageParam[], modelConfig: IModelConfig, options?: {
    stream?: boolean;
    onChunk?: StreamingCallback;
    deepThink?: DeepThinkOption;
}): Promise<{
    content: string;
    reasoning_content?: string;
    usage?: AIUsageInfo;
    isStreamed: boolean;
}>;
export declare function callAIWithObjectResponse<T>(messages: ChatCompletionMessageParam[], modelConfig: IModelConfig, options?: {
    deepThink?: DeepThinkOption;
}): Promise<{
    content: T;
    contentString: string;
    usage?: AIUsageInfo;
    reasoning_content?: string;
}>;
export declare function callAIWithStringResponse(msgs: AIArgs, modelConfig: IModelConfig): Promise<{
    content: string;
    usage?: AIUsageInfo;
}>;
export declare function extractJSONFromCodeBlock(response: string): string;
export declare function preprocessDoubaoBboxJson(input: string): string;
export declare function resolveDeepThinkConfig({ deepThink, vlMode, }: {
    deepThink?: DeepThinkOption;
    vlMode?: TVlModeTypes;
}): {
    config: Record<string, unknown>;
    debugMessage?: string;
    warningMessage?: string;
};
export declare function safeParseJson(input: string, vlMode: TVlModeTypes | undefined): any;
