{"version":3,"file":"mcp-server.js","sources":["webpack/runtime/define_property_getters","webpack/runtime/has_own_property","webpack/runtime/make_namespace_object","../../src/mcp-server.ts"],"sourcesContent":["__webpack_require__.d = (exports, definition) => {\n\tfor(var key in definition) {\n        if(__webpack_require__.o(definition, key) && !__webpack_require__.o(exports, key)) {\n            Object.defineProperty(exports, key, { enumerable: true, get: definition[key] });\n        }\n    }\n};","__webpack_require__.o = (obj, prop) => (Object.prototype.hasOwnProperty.call(obj, prop))","// define __esModule on exports\n__webpack_require__.r = (exports) => {\n\tif(typeof Symbol !== 'undefined' && Symbol.toStringTag) {\n\t\tObject.defineProperty(exports, Symbol.toStringTag, { value: 'Module' });\n\t}\n\tObject.defineProperty(exports, '__esModule', { value: true });\n};","import type { GenericAgent } from '@midscene/shared/mcp';\nimport {\n  BaseMCPServer,\n  type Tool,\n  createMCPServerLauncher,\n} from '@midscene/shared/mcp';\nimport type { AgentOverChromeBridge } from './bridge-mode';\nimport { WebMidsceneTools } from './mcp-tools';\n\ndeclare const __VERSION__: string;\n\n/**\n * Web MCP Server class\n */\nexport class WebMCPServer extends BaseMCPServer {\n  constructor(toolsManager?: WebMidsceneTools) {\n    super(\n      {\n        name: '@midscene/web-bridge-mcp',\n        version: __VERSION__,\n        description: 'Control the browser using natural language commands',\n      },\n      toolsManager,\n    );\n  }\n\n  protected createToolsManager(): WebMidsceneTools {\n    return new WebMidsceneTools();\n  }\n}\n\n/**\n * Create an MCP server launcher for a specific Agent\n */\nexport function mcpServerForAgent(agent: GenericAgent) {\n  return createMCPServerLauncher({\n    agent,\n    platformName: 'Web',\n    ToolsManagerClass: WebMidsceneTools,\n    MCPServerClass: WebMCPServer,\n  });\n}\n\n/**\n * Create MCP kit for a specific Agent\n */\nexport async function mcpKitForAgent(agent: GenericAgent): Promise<{\n  description: string;\n  tools: Tool[];\n}> {\n  const toolsManager = new WebMidsceneTools();\n\n  // Convert to AgentOverChromeBridge for Web tools manager\n  const webAgent = agent as AgentOverChromeBridge;\n  toolsManager.setAgent(webAgent);\n  await toolsManager.initTools();\n\n  return {\n    description:\n      'Midscene Bridge MCP Server: Control the browser using natural language commands for navigation, clicking, input, hovering, screenshots waitFor, and achieving goals.',\n    tools: toolsManager.getToolDefinitions(),\n  };\n}\n"],"names":["__webpack_require__","definition","key","Object","obj","prop","Symbol","WebMCPServer","BaseMCPServer","WebMidsceneTools","toolsManager","__VERSION__","mcpServerForAgent","agent","createMCPServerLauncher","mcpKitForAgent","webAgent"],"mappings":";;;IAAAA,oBAAoB,CAAC,GAAG,CAAC,UAASC;QACjC,IAAI,IAAIC,OAAOD,WACR,IAAGD,oBAAoB,CAAC,CAACC,YAAYC,QAAQ,CAACF,oBAAoB,CAAC,CAAC,UAASE,MACzEC,OAAO,cAAc,CAAC,UAASD,KAAK;YAAE,YAAY;YAAM,KAAKD,UAAU,CAACC,IAAI;QAAC;IAGzF;;;ICNAF,oBAAoB,CAAC,GAAG,CAACI,KAAKC,OAAUF,OAAO,SAAS,CAAC,cAAc,CAAC,IAAI,CAACC,KAAKC;;;ICClFL,oBAAoB,CAAC,GAAG,CAAC;QACxB,IAAG,AAAkB,eAAlB,OAAOM,UAA0BA,OAAO,WAAW,EACrDH,OAAO,cAAc,CAAC,UAASG,OAAO,WAAW,EAAE;YAAE,OAAO;QAAS;QAEtEH,OAAO,cAAc,CAAC,UAAS,cAAc;YAAE,OAAO;QAAK;IAC5D;;;;;;;;;;;ACQO,MAAMI,qBAAqBC,oBAAAA,aAAaA;IAYnC,qBAAuC;QAC/C,OAAO,IAAIC,sCAAAA,gBAAgBA;IAC7B;IAbA,YAAYC,YAA+B,CAAE;QAC3C,KAAK,CACH;YACE,MAAM;YACN,SAASC;YACT,aAAa;QACf,GACAD;IAEJ;AAKF;AAKO,SAASE,kBAAkBC,KAAmB;IACnD,OAAOC,AAAAA,IAAAA,oBAAAA,uBAAAA,AAAAA,EAAwB;QAC7BD;QACA,cAAc;QACd,mBAAmBJ,sCAAAA,gBAAgBA;QACnC,gBAAgBF;IAClB;AACF;AAKO,eAAeQ,eAAeF,KAAmB;IAItD,MAAMH,eAAe,IAAID,sCAAAA,gBAAgBA;IAGzC,MAAMO,WAAWH;IACjBH,aAAa,QAAQ,CAACM;IACtB,MAAMN,aAAa,SAAS;IAE5B,OAAO;QACL,aACE;QACF,OAAOA,aAAa,kBAAkB;IACxC;AACF"}